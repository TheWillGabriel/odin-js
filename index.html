<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Rock Paper Scissors</title>
</head>

<body>
    <script>
        function computerPlay(){
            choice = Math.floor((Math.random() * 3));
          if(choice == 0){
              return('Rock');
          }else if(choice == 1){
              return('Paper');
          }else{
              return('Scissors');
          }
        }

        function playRound(playerSelection, computerSelection){
            let player = playerSelection.toLowerCase();
            let computer = computerSelection.toLowerCase();
            let win = `You won! ${playerSelection} beats ${computerSelection}`;
            let lose = `You lose! ${computerSelection} beats ${playerSelection}`;
            let draw = `You draw! Both played ${playerSelection}`;

            if(player == 'rock'){
                switch(computer){
                    case 'rock':
                    return draw;
                    case 'paper':
                    return lose;
                    case 'scissors':
                    return win;
                }
            }else if(player == 'paper'){
                switch(computer){
                    case 'rock':
                    return win;
                    case 'paper':
                    return draw;
                    case 'scissors':
                    return lose;
                }
            }else if(player == 'scissors'){
                switch(computer){
                    case 'rock':
                    return lose;
                    case 'paper':
                    return win;
                    case 'scissors':
                    return draw;
                }
            }else{
                return 'Hey, no cheating! Try again.';
            }
        }

        function game(){
            let playerScore = 0;
            let computerScore = 0;
            let selection;
            let result;

            while((playerScore < 5) && (computerScore < 5)){
                selection = prompt('Rock, Paper, or Scissors?');
                result = playRound(selection,computerPlay());
                
                if(result.split(' ')[1] == 'won!'){
                    playerScore++;
                }else if(result.split(' ')[1] == 'lose!'){
                    computerScore++;
                }else{
                    //draw or invalid
                }

                alert(`${result}\nScore: ${playerScore} - ${computerScore}`);
            }

            if(playerScore == 5){
                return 'You beat the computer!';
            }else{
                return 'Sorry, the computer beat you.';
            }
        }
    </script>
</body>

</html>